import 'package:flutter/material.dart';
import 'package:flutter_application_1/result.dart';
import 'package:flutter_test/flutter_test.dart';

import 'package:http/http.dart' as http;

import 'dart:convert';

void main() {
  test('http 통신 테스트', () async {
    var response = await http.get(Uri.parse(
        'http://apis.data.go.kr/B552584/UlfptcaAlarmInqireSvc/getUlfptcaAlarmInfo?year=2021&returnType=json&serviceKey=AgUzBf2j%2Fgg7aIgZUS73U4qJDWVPmHNkLZOf66c0tWKz%2B75YnvlMK68llsZeQusYL6Bk3hkVvLQfdf3sSosoQg%3D%3D'));

    expect(response.statusCode, 200);

    Autogenerated result = Autogenerated.fromJson(json.decode(response.body));
    expect(result.response, 'success');
  });
}
